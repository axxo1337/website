export const metadata = {
    title: "Virtual Memory Explained",
    description: "What are memory pages? What exactly is an address space? Well that's what you'll learn today!",
    createdAt: "2025-12-22",
    updatedAt: "2025-12-22",
    youtubeId: "ultz9m0n0GE",
    thumbnailPath: "/images/thumbnails/virtual-memory-explained.png"
};

Nowadays it's not uncommon for computers to be running hundreds of processes at a time. By this fact two major concerns 
arise: security and resource management. On one hand each application should be mostly isolated one from another. 
You wouldn't want [Notion](https://notion.so) to be spying on what your [Chrome](https://www.google.com/intl/en_ca/chrome/) browser open tabs are. And on the other you might be 
running these applications on an old laptop which doesn't have enough RAM to handle all of them at once.
<br />
These are the problems virtual memory solves. And that's what this video explains. I recommend you first give it a watch 
and come back here afterwards to read my written explanation. Although note that I've made some very slight mistakes here 
and there in said video. Thankfully these were all clarified in a comment I made and pinned in the comments section of 
said video.
<br />
Just for good measure I'll correct them here as well, but feel free to skip this list and watch the video, or maybe simply 
get on with the first chapter of this document:
1. I misspelled the Level 4 Page Map Table as "PLM4" instead of PML4 throughout the video.
2. At [6:15](https://youtube.com/watch?v=ultz9m0n0GE&t=375s&pp=0gcJCTAAlc8ueATH) I wrote 412 by accident. The number 
should be 512.
3. I realized just now that my illustration of page sizes might have been confusing. Regular pages are of 4KB which 
is 4096 bytes. Not 4096KB (just to be crystal clear)
4. The table entries contain a bit called the "present" bit (the rightmost bit). It's called that because as 
long as it is 1 it means the page is in memory. As soon as it is 0 it means the page is on disk, and when it is on 
disk the bits used for the physical page index are used to locate the page on disk instead.

### What is memory?

Memory is not an easy thing to define as it exists in *many* forms. Although all formats of memory share one common property:
they're all the state of disturbance in matter. For example, hard drives store data on magnetic disks by changing the orientation of
tiny magnetic fields on the disks' surface. Then it can read the data back by measuring the orientation of these fields.
<br />
Electronics only care about two states of disturbance. That's why it's well known that computers operate in binary. Binary 
comes from the word bini in latin meaning two. I could say that the decision of whether or not I shall go to the park is binary,
because it's composed of only two possible choices.
<br />
My point is that when we refer to binary we can mean many things as long as they are directly to the principle of two. For instance, binary is also a number system. You see, we
were thought to count in a number system called base ten (decimal). It consists of 10 possible distinct digits from which we can derive
an infinity of numbers: 0, 1, 2, 3, 4, 5, 6, 7, 8 and 9. Binary on the other hand is base 2. Its numbers can only consist of the digits 0 and 1.
<br />
But that's not the only property we can dicern between number bases. Let's start by taking the number 11 in binary:
$$
(1011)_2
$$
The parentheses and the suffix 2 is to let us know that the number is specifically in base 2 (binary) and not the decimal number 1011. So how to we convert this back to base 10?
To do so we'll need to read the number from right to left, convert each digit to their decimal value and sum all of the results together.

![Binary number powers](/images/documents/virtual-memory-explained/binary_powers.png)

In the above illustration I assigned the appropriate index to each digit of the concerned binary number from right to left starting from 0. This is a very important step because
each one of these indices represent the power of the digit at said position. Since we're working with base two, the power is $2^n$, where n is said index. The digit itself represents
the product by which we multiply the result of that power. Here's a full depiction below:

![Binary results](/images/documents/virtual-memory-explained/binary_results.png)

The result would be:
$$
\begin{align*}
&\phantom{=} 1 \times 2^0 + 1 \times 2^1 + 0 \times 2^2 + 1 \times 2^3 \\
&= 1 + 2 + 0 + 8 \\
&= 11
\end{align*}
$$

A single binary digits is called a bit. The number we were working with was of 4 bits. Bits are a unit of measurement used to quantify memory just like you use centimeters to quantify
length. Also just like traditional measurements we have other names to simplify larger values. In the case of bits we have bytes. One byte is 8 bits. Then for 2 bytes, or 16 bits,
there is the word (it's literaly called word). Here's a depiction of these measurements:

![Memory scale](/images/documents/virtual-memory-explained/memory_scale.png)

### Memory paging

To continue...

### Memory tables

### Virtual address

### Identity mapping

### Translation look-aside buffer

### Why use all these tables?